<h1>Books List</h1>

<button><%= link_to "Add Books", new_book_path %></button>
<button><%= link_to "Add Tags", new_tag_path %></button>
<button type="button" class="btn btn-primary">
<%= link_to "Assign Tag", booktag_books_path %>
</button>
<table class="table">

    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Title</th>
        <th scope="col">Tag</th>
        <th scope="col">Button</th>
      </tr>
    </thead>
    <tbody>
    <% @books.each_with_index do |book, index| %>
      <tr>
        <th scope="row">
        <%= index+1 %>
        </th>
        <td>
        <%= book.title %>
        </td>
        <td>
        <% book&.tag&.last&.name %>
        <%= book.tag.pluck(:name) %>
        </td>
        <td>
            <button type="button" class="btn btn-danger">
            <%= link_to "Delete", book_path(book), method: :delete, data: {confirm: 'Are you sure?'} %>
            </button>
            <button type="button" class="btn btn-primary">
            <%= link_to "Edit", edit_book_path(book) %>
            </button>
            <button type="button" class="btn btn-primary">
            <%= link_to "Show", book_path(book) %>
            </button>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>